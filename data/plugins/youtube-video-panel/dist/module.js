/* [create-plugin] version: 5.5.1 */
define(["@grafana/data","@grafana/ui","emotion","module","react"],((e,t,r,o,n)=>(()=>{"use strict";var a={781:t=>{t.exports=e},7:e=>{e.exports=t},485:e=>{e.exports=r},308:e=>{e.exports=o},959:e=>{e.exports=n}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return a[e](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="public/plugins/youtube-video-panel/";var c={};s.r(c),s.d(c,{plugin:()=>D});var l={};s.r(l),s.d(l,{exclude:()=>q,extract:()=>C,parse:()=>U,parseUrl:()=>T,pick:()=>L,stringify:()=>M,stringifyUrl:()=>B});var u=s(308),p=s.n(u);s.p=p()&&p().uri?p().uri.slice(0,p().uri.lastIndexOf("/")+1):"public/plugins/youtube-video-panel/";var f=s(781),d=s(959),y=s.n(d),m=s(485),g=s(7);const b="%[a-f0-9]{2}",h=new RegExp("("+b+")|([^%]+?)","gi"),v=new RegExp("("+b+")+","gi");function j(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(1===e.length)return e;t=t||1;const r=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],j(r),j(o))}function x(e){try{return decodeURIComponent(e)}catch{let t=e.match(h)||[];for(let r=1;r<t.length;r++)t=(e=j(t,r).join("")).match(h)||[];return e}}function w(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){const t={"%FE%FF":"��","%FF%FE":"��"};let r=v.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{const e=x(r[0]);e!==r[0]&&(t[r[0]]=e)}r=v.exec(e)}t["%C2"]="�";const o=Object.keys(t);for(const r of o)e=e.replace(new RegExp(r,"g"),t[r]);return e}(e)}}function k(e,t){const r={};if(Array.isArray(t))for(const o of t){const t=Object.getOwnPropertyDescriptor(e,o);t?.enumerable&&Object.defineProperty(r,o,t)}else for(const o of Reflect.ownKeys(e)){const n=Object.getOwnPropertyDescriptor(e,o);if(n.enumerable){t(o,e[o],e)&&Object.defineProperty(r,o,n)}}return r}function F(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];const r=e.indexOf(t);return-1===r?[]:[e.slice(0,r),e.slice(r+t.length)]}const O=e=>null==e,S=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),N=Symbol("encodeFragmentIdentifier");function I(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function E(e,t){return t.encode?t.strict?S(e):encodeURIComponent(e):e}function $(e,t){return t.decode?w(e):e}function A(e){return Array.isArray(e)?e.sort():"object"==typeof e?A(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function P(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function R(e,t,r){return"string"===r&&"string"==typeof e?e:"function"==typeof r&&"string"==typeof e?r(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?"number"!==r||Number.isNaN(Number(e))||"string"!=typeof e||""===e.trim()?t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?Number(e):e:Number(e):"true"===e.toLowerCase()}function C(e){const t=(e=P(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function U(e,t){I((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t}).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,o)=>{t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=r):o[e]=r};case"bracket":return(e,r,o)=>{t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),t?void 0!==o[e]?o[e]=[...o[e],r]:o[e]=[r]:o[e]=r};case"colon-list-separator":return(e,r,o)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==o[e]?o[e]=[...o[e],r]:o[e]=[r]:o[e]=r};case"comma":case"separator":return(t,r,o)=>{const n="string"==typeof r&&r.includes(e.arrayFormatSeparator),a="string"==typeof r&&!n&&$(r,e).includes(e.arrayFormatSeparator);r=a?$(r,e):r;const i=n||a?r.split(e.arrayFormatSeparator).map((t=>$(t,e))):null===r?r:$(r,e);o[t]=i};case"bracket-separator":return(t,r,o)=>{const n=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!n)return void(o[t]=r?$(r,e):r);const a=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>$(t,e)));void 0!==o[t]?o[t]=[...o[t],...a]:o[t]=a};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[...[r[e]].flat(),t]:r[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const n of e.split("&")){if(""===n)continue;const e=t.decode?n.replaceAll("+"," "):n;let[a,i]=F(e,"=");void 0===a&&(a=e),i=void 0===i?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?i:$(i,t),r($(a,t),i,o)}for(const[e,r]of Object.entries(o))if("object"==typeof r&&null!==r&&"string"!==t.types[e])for(const[o,n]of Object.entries(r)){const a=t.types[e]?t.types[e].replace("[]",""):void 0;r[o]=R(n,t,a)}else"object"==typeof r&&null!==r&&"string"===t.types[e]?o[e]=Object.values(r).join(t.arrayFormatSeparator):o[e]=R(r,t,t.types[e]);return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const r=o[t];return e[t]=Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?A(r):r,e}),Object.create(null))}function M(e,t){if(!e)return"";I((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);const r=r=>t.skipNull&&O(e[r])||t.skipEmptyString&&""===e[r],o=function(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{const n=r.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[E(t,e),"[",n,"]"].join("")]:[...r,[E(t,e),"[",E(n,e),"]=",E(o,e)].join("")]};case"bracket":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[E(t,e),"[]"].join("")]:[...r,[E(t,e),"[]=",E(o,e)].join("")];case"colon-list-separator":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[E(t,e),":list="].join("")]:[...r,[E(t,e),":list=",E(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(o,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:(n=null===n?"":n,0===o.length?[[E(r,e),t,E(n,e)].join("")]:[[o,E(n,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,E(t,e)]:[...r,[E(t,e),"=",E(o,e)].join("")]}}(t),n={};for(const[t,o]of Object.entries(e))r(t)||(n[t]=o);const a=Object.keys(n);return!1!==t.sort&&a.sort(t.sort),a.map((r=>{const n=e[r];return void 0===n?"":null===n?E(r,t):Array.isArray(n)?0===n.length&&"bracket-separator"===t.arrayFormat?E(r,t)+"[]":n.reduce(o(r),[]).join("&"):E(r,t)+"="+E(n,t)})).filter((e=>e.length>0)).join("&")}function T(e,t){t={decode:!0,...t};let[r,o]=F(e,"#");return void 0===r&&(r=e),{url:r?.split("?")?.[0]??"",query:U(C(e),t),...t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:$(o,t)}:{}}}function B(e,t){t={encode:!0,strict:!0,[N]:!0,...t};const r=P(e.url).split("?")[0]||"";let o=M({...U(C(e.url),{sort:!1}),...e.query},t);o&&=`?${o}`;let n=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);if("string"==typeof e.fragmentIdentifier){const o=new URL(r);o.hash=e.fragmentIdentifier,n=t[N]?o.hash:`#${e.fragmentIdentifier}`}return`${r}${o}${n}`}function L(e,t,r){r={parseFragmentIdentifier:!0,[N]:!1,...r};const{url:o,query:n,fragmentIdentifier:a}=T(e,r);return B({url:o,query:k(n,t),fragmentIdentifier:a},r)}function q(e,t,r){return L(e,Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r),r)}const V=l,_=(0,g.stylesFactory)((()=>({wrapper:m.css`
      position: absolute;
    `,video:m.css`
      top: 0;
      left: 0;
    `}))),D=new f.PanelPlugin((({options:e,width:t,height:r})=>{const o=_();let n="";const a={loop:0,autoplay:0,playlist:e.videoId};return e.autoPlay&&(a.autoplay=1),e.loop&&(a.loop=1),n="https://www.youtube.com/embed/"+e.videoId+"?"+V.stringify(a),y().createElement("div",{className:(0,m.cx)(o.wrapper,m.css`
          width: ${t}px;
          height: ${r}px;
        `)},y().createElement("iframe",{frameBorder:"0",allowFullScreen:!0,className:(0,m.cx)(o.video,m.css`
            width: ${t}px;
            height: ${r}px;
          `),src:n}))})).setPanelOptions((e=>e.addTextInput({path:"videoId",name:"Video ID",description:"The value after watch?v= in the URL.",defaultValue:"vYZzMk0NkgM",settings:{placeholder:"vYZzMk0NkgM"}}).addBooleanSwitch({path:"autoPlay",name:"Autoplay",defaultValue:!0}).addBooleanSwitch({path:"loop",name:"Loop",defaultValue:!0})));return c})()));
//# sourceMappingURL=module.js.map